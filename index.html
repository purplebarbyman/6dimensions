<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unleash Your Wellness Superpowers!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5; /* Light grey background */
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        /* section-hidden for general use, to hide and allow transitions */
        .section-hidden {
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            pointer-events: none; /* Crucial: Prevents clicks when hidden */
            visibility: hidden; /* Truly hides the element and makes it un-focusable */
            **display: none; /* Added to hide immediately on load and prevent layout issues */**
        }
        /* Ensures section-hidden applies properly to elements that aren't 'section' tags */
        .section-visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto; /* Allows clicks when visible */
            visibility: visible; /* Makes the element visible and focusable */
            **display: block; /* Ensure it displays correctly when visible */**
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Generic superhero body SVG - for base shape */
        .superhero-head {
            fill: #E0BBE4; /* Default skin tone for head */
            transition: fill 0.3s ease;
        }
        .superhero-body { /* Main suit color, torso, arms, legs */
            fill: #FF0000; /* Default red */
            transition: fill 0.3s ease;
        }
        .superhero-suit-accent { /* Gloves, boots, belt accent */
            fill: #0000FF; /* Default blue */
            transition: fill 0.3s ease;
        }
        .superhero-hair {
            fill: #333333; /* Default black */
            transition: fill 0.3s ease;
        }
        .superhero-emblem {
            fill: #FFD700; /* Default gold */
            transition: fill 0.3s ease;
        }
        .superhero-cape {
            fill: #8B0000; /* Default dark red cape */
            transition: fill 0.3s ease;
        }

        /* Hair styles (SVG paths) - these will be dynamically inserted/swapped */
        /* These are relative to the head position within the SVG canvas, now a rounder head */
        .hair-style-short { d: "M100,40 C85,35 70,35 60,40 C60,50 70,60 100,60 C130,60 140,50 140,40 C130,35 115,35 100,40 Z"; }
        .hair-style-spiky { d: "M100,20 L110,35 L100,30 L90,35 Z M90,20 L80,35 L90,30 L100,35 Z M110,20 L120,35 L110,30 L100,35 Z M100,40 C80,30 70,50 100,50 C130,50 120,30 100,40 Z"; }
        .hair-style-long { d: "M100,30 C60,40 60,140 100,150 C140,140 140,40 100,30 Z M100,40 C80,45 80,70 100,70 C120,70 120,45 100,40 Z"; }
        .hair-style-bun { d: "M100,40 C85,40 85,60 100,60 C115,60 115,40 100,40 Z M115,45 C120,45 120,50 115,50 C110,50 110,45 115,45 Z"; }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-600 to-purple-800 min-h-screen text-white flex flex-col items-center p-4">

    <nav class="w-full max-w-4xl bg-white bg-opacity-20 backdrop-filter backdrop-blur-lg rounded-full py-3 px-6 mb-8 flex justify-center shadow-lg">
        <ul class="flex space-x-6">
            <li><button onclick="showSection('home')" class="text-lg font-semibold hover:text-yellow-300 transition-colors">Home</button></li>
            <li><button onclick="showSection('dimensions')" class="text-lg font-semibold hover:text-yellow-300 transition-colors">6 Dimensions</button></li>
            <li><button onclick="showSection('superhero-builder')" class="text-lg font-semibold hover:text-yellow-300 transition-colors">Build Your Hero</button></li>
            <li><button onclick="showSection('qna')" class="text-lg font-semibold hover:text-yellow-300 transition-colors">Q&A</button></li>
        </ul>
    </nav>

    <section id="home" class="container bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-3xl p-8 shadow-2xl text-center">
        <h1 class="text-5xl md:text-7xl font-extrabold text-yellow-300 drop-shadow-lg mb-6 leading-tight">Unleash Your Wellness Superpowers!</h1>
        <p class="text-xl md:text-2xl text-gray-200 mb-8 max-w-2xl mx-auto">Your Guide to the Six Dimensions of Wellness</p>
        <div class="relative w-full max-w-lg mx-auto mb-10">
            <img src="https://placehold.co/800x400/3498db/ffffff?text=Comic-book+Superheroes" alt="Comic-book style image with silhouettes of superheroes" class="w-full h-auto rounded-2xl shadow-xl border-4 border-yellow-400">
            <div class="absolute inset-0 bg-black opacity-30 rounded-2xl"></div>
        </div>
        <p class="text-lg md:text-xl text-gray-300 mb-10">Welcome, aspiring hero! Discover your inner strength and explore the six core 'superpowers' that make up total well-being. Are you ready for your mission?</p>
        <button onclick="showSection('superhero-builder')" class="bg-yellow-500 hover:bg-yellow-600 text-purple-900 font-bold py-4 px-10 rounded-full text-xl shadow-lg transform transition-all duration-300 hover:scale-105 active:scale-95 animate-bounce-slow">
            Assemble Your Hero!
        </button>
    </section>

    <section id="dimensions" class="container bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-3xl p-8 shadow-2xl section-hidden">
        <h2 class="text-4xl md:text-5xl font-extrabold text-yellow-300 mb-8 text-center drop-shadow-lg">Meet the 6 Core Powers</h2>
        <p class="text-lg text-gray-200 mb-10 text-center max-w-3xl mx-auto">Wellness is more than just physical health—it's about a holistic and active process of becoming aware and making choices toward a more successful existence. All six dimensions need attention to achieve true balance.</p>

        <div id="dimensions-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            </div>
    </section>

    <section id="superhero-builder" class="container bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-3xl p-8 shadow-2xl section-hidden">
        <h2 class="text-4xl md:text-5xl font-extrabold text-yellow-300 mb-8 text-center drop-shadow-lg">Your Mission: Assemble Your Superhero!</h2>
        <p class="text-lg text-gray-200 mb-8 text-center max-w-3xl mx-auto">Identify your unique wellness strengths and craft a hero that represents your journey. Customize your hero, pick your powers, and unleash your potential!</p>

        <div class="flex flex-col lg:flex-row gap-8">
            <div class="lg:w-1/2 p-6 bg-white bg-opacity-15 rounded-2xl shadow-inner flex flex-col space-y-6">
                <h3 class="text-2xl font-bold text-yellow-300 mb-4">1. Choose Your Powers:</h3>

                <div>
                    <p class="text-xl font-semibold text-gray-100 mb-3">Your 2 Strongest Powers:</p>
                    <div id="strong-powers-options" class="grid grid-cols-2 gap-3">
                        </div>
                </div>

                <div>
                    <p class="text-xl font-semibold text-gray-100 mb-3">1 Power to Level-Up:</p>
                    <div id="level-up-powers-options" class="grid grid-cols-2 gap-3">
                        </div>
                </div>

                <h3 class="text-2xl font-bold text-yellow-300 mb-4 mt-6">2. Customize Your Hero:</h3>

                <div class="flex items-center space-x-4">
                    <label for="skinTone" class="text-xl font-semibold text-gray-100 min-w-[100px]">Skin Tone:</label>
                    <input type="color" id="skinTone" value="#E0BBE4" class="w-16 h-10 rounded-lg border-2 border-yellow-400 cursor-pointer">
                </div>

                <div class="flex items-center space-x-4">
                    <label for="hairStyle" class="text-xl font-semibold text-gray-100 min-w-[100px]">Hair Style:</label>
                    <select id="hairStyle" class="p-2 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-yellow-400 focus:border-yellow-400">
                        <option value="short">Short</option>
                        <option value="spiky">Spiky</option>
                        <option value="long">Long</option>
                        <option value="bun">Bun</option>
                    </select>
                </div>

                <div class="flex items-center space-x-4">
                    <label for="hairColor" class="text-xl font-semibold text-gray-100 min-w-[100px]">Hair Color:</label>
                    <input type="color" id="hairColor" value="#333333" class="w-16 h-10 rounded-lg border-2 border-yellow-400 cursor-pointer">
                </div>

                <div class="flex items-center space-x-4">
                    <label for="primaryColor" class="text-xl font-semibold text-gray-100 min-w-[100px]">Suit Primary:</label>
                    <input type="color" id="primaryColor" value="#FF0000" class="w-16 h-10 rounded-lg border-2 border-yellow-400 cursor-pointer">
                </div>

                <div class="flex items-center space-x-4">
                    <label for="accentColor" class="text-xl font-semibold text-gray-100 min-w-[100px]">Suit Accent:</label>
                    <input type="color" id="accentColor" value="#0000FF" class="w-16 h-10 rounded-lg border-2 border-yellow-400 cursor-pointer">
                </div>

                <div class="flex items-center space-x-4">
                    <label for="capeColor" class="text-xl font-semibold text-gray-100 min-w-[100px]">Cape Color:</label>
                    <input type="color" id="capeColor" value="#8B0000" class="w-16 h-10 rounded-lg border-2 border-yellow-400 cursor-pointer">
                </div>

                <div class="flex flex-col space-y-2">
                    <label for="heroName" class="text-xl font-semibold text-gray-100">3. Name Your Hero!</label>
                    <input type="text" id="heroName" placeholder="e.g., Captain Calm, The Connector" class="p-3 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-yellow-400 focus:border-yellow-400">
                </div>

                <button onclick="generateSuperhero()" class="bg-yellow-500 hover:bg-yellow-600 text-purple-900 font-bold py-3 px-8 rounded-full text-xl shadow-lg transform transition-all duration-300 hover:scale-105 active:scale-95 mt-8">
                    Unleash My Hero!
                </button>
            </div>

            <div class="lg:w-1/2 p-6 bg-white bg-opacity-15 rounded-2xl shadow-inner flex flex-col items-center justify-center">
                <h3 class="text-2xl font-bold text-yellow-300 mb-4">Your Hero's Profile</h3>
                <div id="superhero-preview" class="w-64 h-64 md:w-80 md:h-80 bg-gray-800 rounded-full flex items-center justify-center overflow-hidden mb-6 shadow-xl border-4 border-yellow-400">
                    <svg viewBox="0 0 200 200" width="100%" height="100%">
                        <path class="superhero-cape" d="M100,50 C120,40 140,40 160,50 C170,60 175,80 170,100 C160,140 130,180 100,190 C70,180 40,140 30,100 C25,80 30,60 40,50 C60,40 80,40 100,50 Z"/>

                        <path class="superhero-body" d="M100,60 C90,60 85,70 85,80 V120 C85,135 90,145 100,145 C110,145 115,135 115,120 V80 C115,70 110,60 100,60 Z M85,85 C80,90 75,95 75,100 C75,105 80,110 85,115 L85,140 H75 V100 C75,90 80,85 85,80 Z M115,85 C120,90 125,95 125,100 C125,105 120,110 115,115 L115,140 H125 V100 C125,90 120,85 115,80 Z"/>

                        <circle class="superhero-head" cx="100" cy="50" r="25"/>
                        <circle cx="90" cy="45" r="3" fill="#333"/> <circle cx="110" cy="45" r="3" fill="#333"/> <path d="M95,55 Q100,60 105,55" stroke="#333" stroke-width="2" fill="none"/> <path id="superhero-hair-path" class="superhero-hair" d="M100,40 C85,35 70,35 60,40 C60,50 70,60 100,60 C130,60 140,50 140,40 C130,35 115,35 100,40 Z" />

                        <rect class="superhero-suit-accent" x="75" y="105" width="50" height="10" rx="3" ry="3"/> <path class="superhero-suit-accent" d="M75,80 L70,85 V95 C70,100 75,105 80,105 L85,105 L85,85 Z M125,80 L130,85 V95 C130,100 125,105 120,105 L115,105 L115,85 Z"/>
                        <path class="superhero-suit-accent" d="M85,145 L80,155 L80,170 H90 L90,150 Z M115,145 L120,155 L120,170 H110 L110,150 Z"/>


                        <path class="superhero-emblem" id="superhero-emblem-path" d="M100,90 L105,100 L115,100 L107.5,107 L110,117 L100,112 L90,117 L92.5,107 L85,100 L95,100 Z" />
                    </svg>
                </div>
                <div id="hero-output" class="text-center w-full max-w-md">
                    <p class="text-2xl font-bold text-yellow-200 mb-2" id="generated-hero-name">Your Hero's Name</p>
                    <div id="generated-core-powers" class="text-lg text-gray-200 mb-2"></div>
                    <div id="generated-level-up-power" class="text-lg text-gray-200"></div>
                </div>

                <button onclick="openEmailModal()" id="email-hero-button" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full text-xl shadow-lg transform transition-all duration-300 hover:scale-105 active:scale-95 mt-8 section-hidden">
                    Email My Superhero Profile
                </button>
            </div>
        </div>
    </section>

    <section id="qna" class="container bg-white bg-opacity-10 backdrop-filter backdrop-blur-lg rounded-3xl p-8 shadow-2xl section-hidden">
        <h2 class="text-4xl md:text-5xl font-extrabold text-yellow-300 mb-8 text-center drop-shadow-lg">Q&A & Your Hero's Journey Continues...</h2>
        <p class="text-lg text-gray-200 mb-8 text-center max-w-3xl mx-auto">Wellness is a journey, not a destination. All six powers work together. Take one small action this week to 'level up' your chosen superpower!</p>

        <div class="bg-white bg-opacity-15 rounded-2xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-yellow-300 mb-4">Got Questions?</h3>
            <p class="text-lg text-gray-200 mb-4">Feel free to explore the dimensions again or build another hero! For deeper inquiries, consider reaching out to wellness professionals.</p>
            <p class="text-md text-gray-300">Thank you for unleashing your inner hero!</p>
        </div>

        <div class="bg-white bg-opacity-15 rounded-2xl p-6">
            <h3 class="text-2xl font-bold text-yellow-300 mb-4">References:</h3>
            <ul class="list-disc list-inside text-gray-200 text-md space-y-2">
                <li>Hettler, B. (1980). The Six Dimensions of Wellness Model. National Wellness Institute.</li>
                <li>Warburton, D. E. R., et al. (2006). Health benefits of physical activity: the evidence. *CMAJ, 174*(6), 801-809.</li>
                <li>Gross, J. J. (2015). Emotion regulation: Current status and future prospects. *Psychological Inquiry, 26*(1), 1-26.</li>
                <li>Hodges, N. J., et al. (2018). Lifelong learning in sport and physical activity. *Sport, Education and Society, 23*(6), 601-615.</li>
                <li>Holt-Lunstad, J., et al. (2010). Social relationships and mortality risk: a meta-analytic review. *PLoS Medicine, 7*(7), e1000316.</li>
                <li>Koenig, H. G. (2012). Religion, spirituality, and health: The research and clinical implications. *ISRN Psychiatry, 2012*.</li>
                <li>Judge, T. A., et al. (2001). The job satisfaction–job performance relationship: A qualitative and quantitative review. *Psychological Bulletin, 127*(3), 376-407.</li>
            </ul>
        </div>
    </section>

    <div id="email-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 section-hidden">
        <div class="bg-white p-8 rounded-xl shadow-2xl w-full max-w-md mx-4 transform transition-all duration-300 scale-95 opacity-0 text-gray-800" id="email-modal-content">
            <h3 class="text-2xl font-bold text-purple-800 mb-4 text-center">Email Your Superhero Profile</h3>
            <p class="text-center mb-6">Enter your email address to receive your custom superhero profile!</p>
            <input type="email" id="email-input" placeholder="your.email@example.com" class="w-full p-3 mb-4 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500">
            <label class="flex items-center mb-6">
                <input type="checkbox" id="email-consent" class="mr-2 accent-blue-500">
                <span class="text-sm">I agree to receive my superhero profile via email.</span>
            </label>
            <div id="email-status-message" class="text-center mb-4 text-sm font-semibold text-red-500"></div>
            <div class="flex justify-end space-x-4">
                <button onclick="closeEmailModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-full transition-colors">Cancel</button>
                <button onclick="sendEmail()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full transition-colors" id="send-email-button">Send Email</button>
            </div>
        </div>
    </div>

    <div id="loading-indicator" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[100] section-hidden">
        <div class="flex flex-col items-center">
            <div class="animate-spin rounded-full h-20 w-20 border-t-4 border-b-4 border-yellow-500 mb-4"></div>
            <p class="text-white text-xl">Generating your hero...</p>
        </div>
    </div>

    <script>
        // Global variables for Firebase (if needed later for storage/auth, currently not used for email)
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        // Corrected initialAuthToken declaration
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Define the data for the six dimensions of wellness
        const dimensionsData = [
            { id: 'physical', name: 'Physical Power', subtitle: 'Strength & Stamina', keyPhrase: 'Move, fuel, and rest your body.', examples: 'Regular exercise, healthy eating, adequate sleep.', icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dumbbell"><path d="M14.4 14.4L9 19H4.5A2.5 2.5 0 0 1 2 16.5V12L7.6 6.47A10 10 0 0 1 14.4 14.4Z"/><path d="M14.4 14.4L19 9h4.5a2.5 2.5 0 0 0-2.5-2.5V12L16.47 17.6A10 10 0 0 1 14.4 14.4Z"/></svg>', description: "This is your body's strength and stamina. It's about recognizing the need for physical activity, healthy foods, and good sleep. When you fuel your body correctly, you're not just healthier; studies show you also boost your mood, energy, and even your brain function." },
            { id: 'emotional', name: 'Emotional Power', subtitle: 'Empathy & Resilience', keyPhrase: 'Feel it, name it, and handle it.', examples: 'Journaling, talking to friends, mindfulness.', icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart-handshake"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5 5 0 0 0 17.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5 5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/><path d="M12 18v-2.3L19 9"/><path d="M17 13h-5l1.5-3.5L16 10l-1 4"/></svg>', description: "This is the ability to understand your own feelings, accept them, and cope effectively with stress. It’s about being attuned to your thoughts and emotions. Strong emotional regulation is directly linked to better mental health and the ability to bounce back from adversity." },
            { id: 'intellectual', name: 'Intellectual Power', subtitle: 'Super-Strategy & Curiosity', keyPhrase: 'Keep your brain curious and creative.', examples: 'Reading, puzzles, learning a new skill.', icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-brain"><path d="M12 16a6 6 0 0 0 6-6V7.1a2 2 0 0 0-2.9-1.87L11.5 7h-.9L7 5.23A2 2 0 0 0 4 7.1V10a6 6 0 0 0 6 6Z"/><path d="M12 16v2a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-2"/><path d="M12 16v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2"/></svg>', description: "This dimension involves having an open mind to new ideas and experiences. Engaging in creative and mentally stimulating activities helps keep your mind sharp. Lifelong learning isn’t just for fun; it's associated with better cognitive health and overall life satisfaction." },
            { id: 'social', name: 'Social Power', subtitle: 'Connection & Alliance-Building', keyPhrase: 'Connect with others and build your support network.', examples: 'Calling a friend, joining a club, volunteering.', icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>', description: "This is your power to form meaningful relationships and interact positively with others. Having a strong social support network is one of the most reliable predictors of health and longevity. It helps reduce stress and promotes a sense of belonging." },
            { id: 'spiritual', name: 'Spiritual Power', subtitle: 'Purpose & Inner Peace', keyPhrase: 'Find your personal purpose and meaning.', examples: 'Meditation, nature walks, personal reflection, prayer.', icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-leaf"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 18 2c1 2.48 2 5 2 8a10 10 0 0 1-17.02 8.5C6.26 18.3 11 20 11 20Z"/></svg>', description: "This is about having a sense of purpose and meaning in life. This doesn't have to be religious; it's about what gives your life value and helps you find inner peace. Whether through meditation, nature, or aligning with your values, this dimension provides a compass to guide your decisions and build resilience." },
            { id: 'occupational', name: 'Occupational Power', subtitle: 'Mission Satisfaction', keyPhrase: 'Find personal satisfaction and enrichment in your work.', examples: 'Work-life balance, setting career goals, using your skills.', icon: '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>', description: "This is about gaining personal satisfaction from your job or chosen vocation. It’s about your attitude toward your work and ensuring it aligns with your values. Strong occupational wellness, including a healthy work-life balance, is directly tied to lower stress and higher productivity." }
        ];

        // Hair styles SVG paths (simplified for demonstration)
        const hairStyles = {
            // These hair paths are designed to fit the new circular head
            short: "M100,40 C85,35 70,35 60,40 C60,50 70,60 100,60 C130,60 140,50 140,40 C130,35 115,35 100,40 Z",
            spiky: "M100,20 L110,35 L100,30 L90,35 Z M90,20 L80,35 L90,30 L100,35 Z M110,20 L120,35 L110,30 L100,35 Z M100,40 C80,30 70,50 100,50 C130,50 120,30 100,40 Z",
            long: "M100,30 C60,40 60,140 100,150 C140,140 140,40 100,30 Z M100,40 C80,45 80,70 100,70 C120,70 120,45 100,40 Z",
            bun: "M100,40 C85,40 85,60 100,60 C115,60 115,40 100,40 Z M115,45 C120,45 120,50 115,50 C110,50 110,45 115,45 Z"
        };

        // Emblem SVG paths
        const emblemPaths = {
            physical: "M100,100 C90,110 80,105 80,95 C80,85 90,80 100,90 C110,80 120,85 120,95 C120,105 110,110 100,100 Z", // Heart
            emotional: "M100,90 C90,90 90,95 95,100 C90,105 90,110 100,110 C110,110 110,105 105,100 C110,95 110,90 100,90 Z", // Smiley face
            intellectual: "M95,95 L105,95 L105,85 L110,85 L110,105 L105,105 L105,115 L95,115 L95,105 L90,105 L90,85 L95,85 Z", // Lightbulb
            social: "M100,90 L90,100 L110,100 L100,90 Z M90,100 L85,110 L115,110 L110,100 Z M85,110 L80,120 L120,120 L115,110 Z", // Simplified people/community
            spiritual: "M100,90 C90,95 90,105 100,110 C110,105 110,95 100,90 Z M95,95 C90,98 90,102 95,105 C100,102 100,98 95,95 Z M105,95 C100,98 100,102 105,105 C110,102 110,98 105,95 Z", // Abstract leaf/spirit
            occupational: "M90,90 H110 V110 H90 Z M90,110 L85,120 H115 L110,110 Z" // Book/Briefcase
        };

        let selectedStrongPowers = [];
        let selectedLevelUpPower = null;

        // Function to show a specific section and hide others
        function showSection(sectionId) {
            // Get all sections and fixed overlays
            document.querySelectorAll('section, #email-modal, #loading-indicator').forEach(element => {
                if (element.id === sectionId) {
                    element.classList.remove('section-hidden');
                    // For fixed overlays (modal, loading), ensure display:flex for centering
                    if (element.id === 'loading-indicator' || element.id === 'email-modal') {
                        element.style.display = 'flex';
                    } else {
                        element.style.display = 'block'; // For main content sections
                    }
                    // Small timeout to allow 'display' property to apply before transition starts
                    setTimeout(() => {
                        element.classList.add('section-visible');
                    }, 10);
                } else {
                    element.classList.remove('section-visible'); // Start transition out
                    element.classList.add('section-hidden'); // Apply opacity/transform and pointer-events:none
                    // No need for a separate setTimeout for display:none here because it's already in CSS
                }
            });
        }

        // Initialize content on window load
        window.onload = function() {
            renderDimensions(); // Render dimension cards
            renderPowerSelectionOptions(); // Render power selection checkboxes/radios
            setupEventListeners(); // Set up color and style change listeners

            // Ensure loading indicator and email modal are hidden initially by setting display:none (already in CSS)
            // document.getElementById('loading-indicator').style.display = 'none';
            // document.getElementById('email-modal').style.display = 'none';

            showSection('home'); // Show home section by default
        };

        // Render dimension cards for the 'Dimensions' section
        function renderDimensions() {
            const grid = document.getElementById('dimensions-grid');
            grid.innerHTML = dimensionsData.map(dim => `
                <div class="bg-white bg-opacity-15 rounded-2xl p-6 shadow-xl border border-yellow-400 hover:scale-105 transition-transform duration-300">
                    <div class="text-yellow-300 mb-3 flex items-center justify-center text-4xl">
                        ${dim.icon}
                    </div>
                    <h3 class="text-2xl font-bold text-yellow-200 mb-2 text-center">${dim.name}</h3>
                    <p class="text-md text-gray-300 mb-3 text-center">${dim.keyPhrase}</p>
                    <p class="text-sm text-gray-400 text-center">(${dim.examples})</p>
                    <p class="text-sm text-gray-200 mt-4">${dim.description}</p>
                </div>
            `).join('');
        }

        // Render power selection options for the 'Superhero Builder' section
        function renderPowerSelectionOptions() {
            const strongPowersDiv = document.getElementById('strong-powers-options');
            const levelUpPowersDiv = document.getElementById('level-up-powers-options');

            strongPowersDiv.innerHTML = dimensionsData.map(dim => `
                <label class="flex items-center p-3 rounded-lg bg-gray-700 hover:bg-gray-600 cursor-pointer transition-colors">
                    <input type="checkbox" name="strongPower" value="${dim.id}" class="mr-2 accent-yellow-400" onchange="handleStrongPowerChange(this)">
                    <span class="text-gray-100 text-lg flex items-center">
                        ${dim.icon} <span class="ml-2">${dim.name.replace(' Power', '')}</span>
                    </span>
                </label>
            `).join('');

            levelUpPowersDiv.innerHTML = dimensionsData.map(dim => `
                <label class="flex items-center p-3 rounded-lg bg-gray-700 hover:bg-gray-600 cursor-pointer transition-colors">
                    <input type="radio" name="levelUpPower" value="${dim.id}" class="mr-2 accent-yellow-400" onchange="handleLevelUpPowerChange(this)">
                    <span class="text-gray-100 text-lg flex items-center">
                        ${dim.icon} <span class="ml-2">${dim.name.replace(' Power', '')}</span>
                    </span>
                </label>
            `).join('');
        }

        // Handle changes for strong power checkboxes
        function handleStrongPowerChange(checkbox) {
            if (checkbox.checked) {
                if (selectedStrongPowers.length < 2) {
                    selectedStrongPowers.push(checkbox.value);
                } else {
                    checkbox.checked = false; // Prevent more than 2 selections
                    alertMessage("Please select only two strong powers.");
                }
            } else {
                selectedStrongPowers = selectedStrongPowers.filter(id => id !== checkbox.value);
            }
        }

        // Handle changes for level up power radio buttons
        function handleLevelUpPowerChange(radio) {
            selectedLevelUpPower = radio.value;
        }

        // Setup event listeners for customization inputs
        function setupEventListeners() {
            document.getElementById('skinTone').addEventListener('input', (e) => {
                document.querySelector('.superhero-head').style.fill = e.target.value;
            });
            document.getElementById('hairColor').addEventListener('input', (e) => {
                document.querySelector('.superhero-hair').style.fill = e.target.value;
            });
            document.getElementById('primaryColor').addEventListener('input', (e) => {
                document.querySelector('.superhero-body').style.fill = e.target.value;
            });
            document.getElementById('accentColor').addEventListener('input', (e) => {
                document.querySelector('.superhero-suit-accent').style.fill = e.target.value;
            });
            document.getElementById('capeColor').addEventListener('input', (e) => {
                document.querySelector('.superhero-cape').style.fill = e.target.value;
            });
            document.getElementById('hairStyle').addEventListener('change', (e) => {
                const hairPathElement = document.getElementById('superhero-hair-path');
                hairPathElement.setAttribute('d', hairStyles[e.target.value]);
            });
        }

        // Generate and display the superhero profile
        function generateSuperhero() {
            const heroName = document.getElementById('heroName').value.trim();

            if (!heroName || selectedStrongPowers.length !== 2 || !selectedLevelUpPower) {
                alertMessage("Please select exactly two strong powers, one power to level up, and provide a hero name.");
                return;
            }

            const generatedNameElement = document.getElementById('generated-hero-name');
            const generatedCorePowersElement = document.getElementById('generated-core-powers');
            const generatedLevelUpPowerElement = document.getElementById('generated-level-up-power');
            const emailButton = document.getElementById('email-hero-button');
            const emblemPathElement = document.getElementById('superhero-emblem-path');

            generatedNameElement.textContent = heroName;

            const strongPowerDescriptions = selectedStrongPowers.map(id => {
                const dim = dimensionsData.find(d => d.id === id);
                return `<span class="font-bold text-yellow-300">${dim.name.replace(' Power', '')} Power:</span> ${dim.keyPhrase}.`;
            }).join(' ');
            generatedCorePowersElement.innerHTML = `<strong>${heroName}'s Core Powers:</strong> ${strongPowerDescriptions}`;

            const levelUpDim = dimensionsData.find(d => d.id === selectedLevelUpPower);
            generatedLevelUpPowerElement.innerHTML = `<strong>${heroName}'s Growth Area:</strong> By focusing on <span class="font-bold text-yellow-300">${levelUpDim.name.replace(' Power', '')} Power</span>, ${heroName} can further enhance their heroic journey: ${levelUpDim.keyPhrase}.`;

            // Update the emblem based on the first strong power
            const firstStrongPowerId = selectedStrongPowers[0];
            if (emblemPaths[firstStrongPowerId]) {
                emblemPathElement.setAttribute('d', emblemPaths[firstStrongPowerId]);
            } else {
                // Fallback to a default star/generic emblem if no specific path is found
                emblemPathElement.setAttribute('d', "M100,90 L105,100 L115,100 L107.5,107 L110,117 L100,112 L90,117 L92.5,107 L85,100 L95,100 Z"); // A simple star
            }


            emailButton.classList.remove('section-hidden'); // Show email button after generation
        }

        // Custom alert message function
        function alertMessage(message) {
            const messageBox = document.createElement('div');
            messageBox.className = "fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-600 text-white p-4 rounded-lg shadow-xl z-50 animate-bounce";
            messageBox.textContent = message;
            document.body.appendChild(messageBox);
            setTimeout(() => {
                messageBox.remove();
            }, 3000); // Remove after 3 seconds
        }

        // Email modal functions
        function openEmailModal() {
            const modal = document.getElementById('email-modal');
            const modalContent = document.getElementById('email-modal-content');
            modal.classList.remove('section-hidden');
            modal.style.display = 'flex'; // Ensure it displays as flex for centering
            // Animate in
            setTimeout(() => {
                modalContent.classList.remove('opacity-0', 'scale-95');
                modalContent.classList.add('opacity-100', 'scale-100');
            }, 10);
            document.getElementById('email-status-message').textContent = ''; // Clear previous status
        }

        function closeEmailModal() {
            const modal = document.getElementById('email-modal');
            const modalContent = document.getElementById('email-modal-content');
            // Animate out
            modalContent.classList.remove('opacity-100', 'scale-100');
            modalContent.classList.add('opacity-0', 'scale-95');
            setTimeout(() => {
                modal.classList.add('section-hidden');
                modal.style.display = 'none'; // Truly hide after animation
            }, 300); // Use a shorter delay for modal close animation for responsiveness
        }

        // Simulate sending email without actual API call due to permissions
        async function sendEmail() {
            const emailInput = document.getElementById('email-input');
            const emailConsent = document.getElementById('email-consent');
            const emailStatus = document.getElementById('email-status-message');
            const sendButton = document.getElementById('send-email-button');
            const loadingIndicator = document.getElementById('loading-indicator');

            if (!emailInput.value.trim()) {
                emailStatus.textContent = 'Please enter your email address.';
                return;
            }
            if (!emailConsent.checked) {
                emailStatus.textContent = 'Please agree to receive your profile.';
                return;
            }

            // Disable button and show loading
            sendButton.disabled = true;
            sendButton.textContent = 'Sending...';
            loadingIndicator.classList.remove('section-hidden');
            loadingIndicator.style.display = 'flex'; // Ensure it displays as flex for centering
            setTimeout(() => { // Small delay to ensure display property applies before transition
                loadingIndicator.classList.add('section-visible');
            }, 10);

            const heroName = document.getElementById('generated-hero-name').textContent;
            const corePowersText = document.getElementById('generated-core-powers').textContent;
            const levelUpPowerText = document.getElementById('generated-level-up-power').textContent;

            // Simulate email content generation locally
            const simulatedEmailSubject = `Your Wellness Superhero, ${heroName}, is Ready!`;
            const simulatedEmailBody = `
Dear ${emailInput.value.trim()},

Congratulations, aspiring hero! We're thrilled to present your personalized Wellness Superhero: ${heroName}!

Your core strengths truly shine with:
${corePowersText}

And as you continue your heroic journey, a key area for growth is:
${levelUpPowerText}

Remember, every great hero has a journey of continuous improvement. Focus on these areas, and you'll unlock even greater potential in your well-being.

Keep embracing your superpowers and striving for holistic wellness. We encourage you to revisit your profile and explore the dimensions of wellness anytime you need a boost or a reminder of your incredible capabilities.

Unleash your inner hero and conquer your wellness goals!

Stay strong,
Your Wellness Coach Team
`;
            console.log("--- Simulated Email Content ---");
            console.log(`To: ${emailInput.value.trim()}`);
            console.log(`Subject: ${simulatedEmailSubject}`);
            console.log(simulatedEmailBody);
            console.log("-------------------------------");

            // Simulate a delay for the "sending" process
            await new Promise(resolve => setTimeout(resolve, 2000)); // 2-second delay

            emailStatus.textContent = 'Email content generated successfully! Check your browser console for the full content.';
            emailStatus.classList.remove('text-red-500');
            emailStatus.classList.add('text-green-500');
            alertMessage("Your superhero profile email content has been generated! (Check console for full email body)");

            sendButton.disabled = false;
            sendButton.textContent = 'Send Email';
            loadingIndicator.classList.remove('section-visible');
            loadingIndicator.classList.add('section-hidden');
            setTimeout(() => {
                loadingIndicator.style.display = 'none';
            }, 500);
            closeEmailModal();
        }
    </script>
</body>
</html>
